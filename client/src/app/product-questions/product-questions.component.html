<header class="header">
  <a routerLink="/">
    <img src="assets/logo.jpg" alt="Logo" class="logo" />
  </a>
</header>

<div class="container">
  <h2>Questions for {{ selectedProduct | titlecase }}</h2>

  <div *ngIf="selectedProduct === 'primer'">
    <p>
      Primer is adapted automatically according to your skin type from the quiz.
    </p>
    <p *ngIf="skinTypeFromQuiz">
      Detected skin type: <strong>{{ skinTypeFromQuiz }}</strong>
    </p>
    <p *ngIf="!skinTypeFromQuiz">(No skin type provided. Please go back to Quiz.)</p>

    <button
      type="button"
      (click)="onGetRecommendations()"
      [disabled]="loading"
    >
      {{ loading ? 'Loading…' : 'Show Results' }}
    </button>
  </div>

  <div *ngIf="selectedProduct !== 'primer'">
    <div *ngIf="questions && questions.length > 0; else noQuestions">
      <div *ngFor="let question of questions; index as i">
        <label [for]="'question' + i">
          {{ i + 1 }}. {{ question.text }}
        </label>

        <select
          *ngIf="question.options && question.options.length > 0"
          [id]="'question' + i"
          [(ngModel)]="answers[i]"
          [name]="'q' + i"
        >
          <option *ngFor="let option of question.options" [ngValue]="option">
            {{ option }}
          </option>
        </select>

        <textarea
          *ngIf="!question.options || question.options.length === 0"
          [id]="'question' + i"
          [(ngModel)]="answers[i]"
          [name]="'q' + i"
          placeholder="Type your answer here..."
        ></textarea>
      </div>

      <button
        type="button"
        (click)="onGetRecommendations()"
        [disabled]="loading"
      >
        {{ loading ? 'Loading…' : 'Show Results' }}
      </button>
    </div>

    <ng-template #noQuestions>
      <p>No questions available for this product.</p>
    </ng-template>
  </div>
</div>